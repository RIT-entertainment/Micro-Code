var pxt;"undefined"==typeof navigator||!/Trident/i.test(navigator.userAgent)||/skipbrowsercheck=1/i.exec(window.location.href)||/\/browsers/i.exec(window.location.href)||(window.location.href="/browsers"),function(e){var n,o,t=[],i=!1,s=!1,a=!1,p=function(){function e(e){this.log=e,this.q=[],t.push(this)}return e.prototype.track=function(e,r,t){i?this.log(e,r,t):(this.q.push([e,r,t]),20<this.q.length&&this.q.shift())},e.prototype.flush=function(){for(;this.q.length;){var e=this.q.shift(),r=e[0],t=e[1],n=e[2];this.log(r,t,n)}},e}();function c(e){void 0===e&&(e=!1);var r=window.loadAppInsights;r&&(r(a=e,f),i=!0,t.forEach(function(e){return e.flush()}))}function f(e){var r=window.pxtConfig;if(void 0!==r&&r){var t=e.data.baseData;t.properties=t.properties||{},t.properties.target=r.targetId,t.properties.stage=(r.relprefix||"/--").replace(/[^a-z]/gi,""),"undefined"!=typeof Windows&&(t.properties.WindowsApp=1);var n=navigator.userAgent.toLowerCase(),o=/\belectron\/(\d+\.\d+\.\d+.*?)(?: |$)/i.exec(n);o&&(t.properties.Electron=1,t.properties.ElectronVersion=o[1]);var i=window.pxtElectron;void 0!==i&&(t.properties.PxtElectron=1,t.properties.ElectronVersion=i.versions.electronVersion,t.properties.ChromiumVersion=i.versions.chromiumVersion,t.properties.NodeVersion=i.versions.nodeVersion,t.properties.PxtElectronVersion=i.versions.pxtElectronVersion,t.properties.PxtCoreVersion=i.versions.pxtCoreVersion,t.properties.PxtTargetVersion=i.versions.pxtTargetVersion,t.properties.PxtElectronIsProd=i.versions.isProd),t.properties.cookie=s&&a}}!function(f){var d;function t(){return Math.round(performance.now()-f.startTimeMs)}function u(e){var r=(e=Math.round(e))%1e3,t=Math.floor(e/1e3),n=t%60,o=Math.floor(t/60);return 0<o?o+"m"+n+"s":5<t?t+"s":0<t?t+"s"+r+"ms":e+"ms"}function e(e,r){void 0===r&&(r=t()),f.stats.milestones.push([e,r])}function r(){if(d=performance&&!!performance.mark&&!!performance.measure){performance.measure("measure from the start of navigation to now");var e=performance.getEntriesByType("measure")[0];f.startTimeMs=e.startTime}}f.stats={durations:[],milestones:[]},f.perfReportLogged=!1,f.splitMs=t,f.prettyStr=u,f.splitStr=function(){return u(t())},f.recordMilestone=e,f.init=r,f.measureStart=function(e){d&&performance.mark(e+" start")},f.measureEnd=function(e){if(d&&performance.getEntriesByName(e+" start").length){performance.mark(e+" end"),performance.measure(e+" elapsed",e+" start",e+" end");var r=performance.getEntriesByName(e+" elapsed","measure");if(r&&1===r.length){var t=r[0],n=t.duration;10<n&&f.stats.durations.push([e,t.startTime,n])}performance.clearMarks(e+" start"),performance.clearMarks(e+" end"),performance.clearMeasures(e+" elapsed")}},f.report=function(){if(d){for(var e="performance report:\n",r=0,t=f.stats.milestones;r<t.length;r++){var n=t[r];e+="\t\t"+(a=n[0])+" @ "+u(n[1])+"\n"}e+="\n";for(var o=0,i=f.stats.durations;o<i.length;o++){var s=i[o],a=s[0],p=s[1],c=s[2];50<c&&(e+="\t\t"+a+" took ~ "+u(c),1e3<c&&(e+=" ("+u(p)+" - "+u(p+c)+")"),e+="\n")}console.log(e)}f.perfReportLogged=!0},r(),e("first JS running")}(e.perf||(e.perf={})),e.initAnalyticsAsync=function(){var e,r,t,n,o;(e=window.pxtConfig)&&!e.isStatic?(r="undefined"!=typeof window,t="undefined"!=typeof Windows,n=r&&!!window.pxtElectron,o=r&&!!window.ipcRenderer||/ipc=1/.test(location.hash)||/ipc=1/.test(location.search),t||n||o||function(){try{return window&&window.self!==window.top}catch(e){return!1}}()&&/nocookiebanner=1/i.test(window.location.href)?c(!0):/sandbox=1|#sandbox|#sandboxproject/i.test(window.location.href)||window.pxtSkipAnalyticsCookie?c(!1):c(!0)):c(!1)},e.aiTrackEvent=function(e,r,t){n||(n=new p(function(e,r,t){return window.appInsights.trackEvent(e,r,t)})),n.track(e,r,t)},e.aiTrackException=function(e,r,t){o||(o=new p(function(e,r,t){return window.appInsights.trackException(e,r,t)})),o.track(e,r,t)},e.initializeAppInsightsInternal=c,e.setInteractiveConsent=function(e){s=e}}(pxt||(pxt={}));